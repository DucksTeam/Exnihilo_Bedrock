{
	"format_version": "1.16.221",
	"minecraft:block": {
		"description": {
			"identifier": "exnihilo:oak_crucible",
			"properties": {
				"exnihilo:mode": [0,1,2],
				"exnihilo:leaves": [0,1,2,3,4],
				"exnihilo:liquid_type": [0,1],
				"exnihilo:compost_type": [0,1],
				"exnihilo:stage_1": [0,1,2,3,4,5],
				"exnihilo:stage_2": [0,1,2,3,4,5]
			}
		},

		"components": {
			"minecraft:material_instances": {
				"*": {
					"texture": "oak_crucible"
				}
			},
			"minecraft:destroy_time": 2.0,
			"minecraft:block_light_absorption": 10,
			"minecraft:geometry": "geometry.oak_crucible_empty",
			"minecraft:on_interact": {
				"event": "empty_interact"
			}
		},
		"events": {
			"empty_interact": {
				"sequence": [{
					"condition": "q.block_property('exnihilo:leaves') < 4",
					"sequence": [{
						"condition": "q.get_equipped_item_name(0) == 'leaves' || q.get_equipped_item_name(0) == 'leaves2'",
						"decrement_stack": {},
						"run_command": {
							"command": "playsound dig.grass @a ~~~ 0.8"
						},
						"set_block_property": {
							"exnihilo:leaves": "q.block_property('exnihilo:leaves') + 1"
						}
					}]
				}/*, {
					"condition": "q.block_property('exnihilo:leaves') > 0 && q.block_property('exnihilo:leaves') < 4",
					"sequence": [{
						"condition": "q.get_equipped_item_name(0) == 'leaves' || q.get_equipped_item_name(0) == 'leaves2'",
						"decrement_stack": {},
						"set_block_property": {
							"exnihilo:leaves": "q.block_property('exnihilo:leaves') + 1"
						},
						"run_command": {
							"command": ["playsound step.grass @a ~~~ 0.6 1.4"]
						}
					}]
				}*/]
			},
			"water_interact": {
				"sequence": [{
					"condition": "q.get_equipped_item_name(0) == 'bucket'",
					"decrement_stack": {
						"ignore_game_mode": true
					},
					"spawn_loot": {
						"table": "loot_tables/gameplay/wooden_barrel/water_bucket.json"
					},
					"run_command": {
						"command": "playsound bucket.fill_water @a ~~~ 1.0"
					},
					"set_block_property": {
						"exnihilo:leaves": 0,
						"exnihilo:stage_2": 0
					}
				}]
			},
			"add_probe": {
				"sequence": [{
					"condition": "q.block_property('exnihilo:stage_1') < 5",
					"set_block_property": {
						"exnihilo:stage_1": "q.block_property('exnihilo:stage_1') + 1"
					}
				}, {
					"condition": "q.block_property('exnihilo:stage_1') == 5 && q.block_property('exnihilo:stage_2') < 5",
					"set_block_property": {
						"exnihilo:stage_1": 0,
						"exnihilo:stage_2": "q.block_property('exnihilo:stage_2') + 1"
					}
				}]
			}
		},
		"permutations": [{
			"condition": "q.block_property('exnihilo:leaves') == 4 && q.block_property('exnihilo:stage_2') == 5",
			"components": {
				"minecraft:on_interact": {
					"event": "water_interact"
				}
			}
		}, {
			"condition": "q.block_property('exnihilo:leaves') == 4 && q.block_property('exnihilo:stage_2') < 5",
			"components": {
				"minecraft:ticking": {
					"range": [0.5, 0.5], // 2
					"on_tick": {
						"event": "add_probe"
					}
				}
			}
		}]
	}
}